# Google Agent Development Kit (ADK) Framework Overview

## Introduction

Google's Agent Development Kit (ADK) is a comprehensive, open-source, code-first Python toolkit designed for building, evaluating, and deploying AI agents. ADK emphasizes testability, modularity, and deployment flexibility, making agent development similar to traditional software development.

## Core Philosophy

ADK is built on several key principles:
- **Code-First Development**: Agents are defined directly in Python code, enabling flexibility, testability, and versioning
- **Model-Agnostic**: While optimized for Gemini, ADK supports various LLMs and is compatible with other frameworks
- **Deployment-Agnostic**: Flexible deployment options across Google Cloud services and local environments
- **Modular Architecture**: Supports building complex multi-agent systems through composition

## Core Architecture Components

### 1. Agent System

The Agent System provides core agent abstractions and implementations:

#### BaseAgent
The foundational class for all agents that can be extended to create different agent types.

#### LlmAgent (Agent)
Agents that use Large Language Models for reasoning, natural language understanding, and decision-making:

```python
from google.adk.agents import LlmAgent
from google.adk.tools import google_search

root_agent = LlmAgent(
    name="search_assistant",
    model="gemini-2.0-flash",
    instruction="You are a helpful assistant. Answer user questions using Google Search when needed.",
    description="An assistant that can search the web.",
    tools=[google_search]
)
```

#### Workflow Agents
Deterministic agents that control execution flow without using LLMs:

- **SequentialAgent**: Executes sub-agents one after another in order
- **ParallelAgent**: Executes multiple sub-agents concurrently
- **LoopAgent**: Repeatedly executes sub-agents until a termination condition is met

```python
from google.adk.agents import SequentialAgent, ParallelAgent

# Multi-agent system example
coordinator = LlmAgent(
    name="Coordinator",
    model="gemini-2.0-flash",
    description="I coordinate greetings and tasks.",
    sub_agents=[greeter, task_executor]
)
```

#### Custom Agents
Created by extending `BaseAgent` and implementing unique logic in the `_run_async_impl` method.

### 2. Execution Engine

#### Runner
Orchestrates the "Reason-Act" loop, manages LLM calls, and executes tools.

#### AgentLoader
Responsible for loading agents during execution.

### 3. Tool Integration

ADK provides an extensible tool ecosystem:

- **OpenAPIToolset**: For integrating with REST APIs
- **MCPToolset**: For Model Context Protocol integration
- **GoogleAPIToolset**: For integrating with Google Cloud APIs
- Built-in tools: `google_search`, `vertex_ai_search`

```python
from google.adk.tools import google_search, vertex_ai_search

tools = [google_search, vertex_ai_search]
```

### 4. Services Layer

Manages state and persistence:

#### SessionService
Manages conversation state for continuous dialogues:
- `InMemorySessionService`
- `DatabaseSessionService`
- `VertexAiSessionService`

#### MemoryService
Provides long-term recall across different sessions:
- `InMemoryMemoryService`
- `VertexAiMemoryService`

#### ArtifactService
Manages non-textual data like files:
- `InMemoryArtifactService`
- `GCSArtifactService`

### 5. Evaluation System

Provides capabilities for agent performance evaluation:

- **TrajectoryEvaluator**: Evaluates the sequence of actions taken by an agent
- **ResponseEvaluator**: Evaluates the final responses generated by an agent
- **SafetyEvaluatorV1**: Evaluates agent responses for safety
- **MetricEvaluatorRegistry**: Registers and manages different metric evaluators

### 6. Development Interface

#### ADK CLI
Command-line interface for creating, running, evaluating, and deploying agents:

```bash
# Create a new agent
adk create my_first_agent

# Run agent locally
adk run my_first_agent

# Start web development UI
adk web my_first_agent

# Deploy to Cloud Run
adk deploy cloud_run --project my-project --region us-central1 my_first_agent
```

#### Development Web UI
Angular + FastAPI application for testing, evaluating, debugging, and showcasing agents.

## Agent Creation and Development

### Basic Agent Structure

When creating an agent with `adk create`, the basic structure includes:

```python
from google.adk.agents import LlmAgent
from google.adk.tools import google_search

root_agent = LlmAgent(
    name="my_agent",
    model="gemini-2.0-flash",
    instruction="You are a helpful assistant.",
    description="Agent description",
    tools=[google_search]
)
```

### Installation

```bash
# Stable release
pip install google-adk

# Development version
pip install git+https://github.com/google/adk-python.git@main
```

## Deployment Options

### Google Cloud Run

```bash
adk deploy cloud_run \
  --project my-gcp-project \
  --region us-central1 \
  --service_name my-agent-service \
  my_first_agent
```

### Vertex AI Agent Engine

```bash
adk deploy agent_engine \
  --project my-gcp-project \
  --region us-central1 \
  --staging_bucket gs://my-staging-bucket \
  --display_name "My Agent" \
  my_first_agent
```

### Google Kubernetes Engine (GKE)

```bash
adk deploy gke \
  --project=[project] \
  --region=[region] \
  --cluster_name=[cluster_name] \
  path/to/my_agent
```

### Local Development

```bash
# Interactive CLI
adk run my_agent

# Web-based development UI
adk web my_agent
```

## Key Features and Capabilities

### 1. Multi-Agent Systems
- Support for agent hierarchies with parent-child relationships
- Agent communication through the Agent2Agent (A2A) protocol
- Flexible composition of specialized agents

### 2. Context Management
Uses `InvocationContext` to bundle information during operations:
- Session state management
- Data passing between agents
- Service access (Artifact, Memory, Authentication)
- Identity tracking

### 3. Evaluation and Testing
- Unit tests and integration tests
- ADK Evaluation Framework with JSON test cases
- Metrics like `tool_trajectory_avg_score` and `response_match_score`

### 4. Tool Ecosystem
- Pre-built tools for common tasks
- Custom function creation
- OpenAPI specification integration
- Third-party library integration

## Agent Execution Flow

1. **User Input** → Processed by `InvocationContext`
2. **Runner.run_async()** → Orchestrates the process
3. **AgentLoader.load_agent()** → Loads the `BaseAgent` instance
4. **LlmAgent.run()** → Interacts with LLM APIs (Gemini/LiteLLM)
5. **Tool Execution** → Utilizes services for state management
6. **Event Streaming** → Returns results to user
7. **Optional Evaluation** → Triggered by evaluators

## Integration with Workshop Framework

In the context of the AgentFlow AI workshop series, ADK provides:

1. **Foundation for Agent Development**: Structured approach to building the Market Researcher, Content Creator, and Outreach Specialist agents

2. **Deployment Pipeline**: Seamless deployment from development to production using Google Cloud services

3. **Evaluation Framework**: Built-in capabilities to assess agent performance and iterate on improvements

4. **Multi-Agent Orchestration**: Support for the compounding effect where agents work together

## Comparison with Gemini CLI

While the workshop scenarios focus on Gemini CLI, ADK provides:
- More structured agent development patterns
- Production-ready deployment capabilities
- Comprehensive evaluation frameworks
- Multi-agent system support

ADK can be seen as the production framework that complements the rapid prototyping capabilities of Gemini CLI.

## Best Practices

1. **Start Simple**: Begin with single-purpose agents before building complex multi-agent systems
2. **Use Appropriate Agent Types**: Choose LlmAgent for reasoning tasks, Workflow Agents for structured processes
3. **Implement Proper Evaluation**: Use the evaluation framework to continuously improve agent performance
4. **Leverage Services**: Utilize SessionService and MemoryService for stateful applications
5. **Design for Deployment**: Consider deployment requirements early in the development process

## Resources

- **Documentation**: https://google.github.io/adk-docs/
- **GitHub Repository**: https://github.com/google/adk-python
- **Installation**: `pip install google-adk`
- **Weekly Release Cadence**: Regular updates and improvements

## Conclusion

Google ADK represents a mature, production-ready framework for building AI agents that can scale from simple single-purpose tools to complex multi-agent systems. Its code-first approach, deployment flexibility, and comprehensive evaluation capabilities make it an ideal choice for building the AI agents described in the AgentFlow AI workshop series.